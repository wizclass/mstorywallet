!function(a){"use strict";a.fn.captcha=function(b){function c(){return a.ajax({method:"GET",url:b.captchaEndpoint,data:{get:"html",c:m}})}function d(b,c){var d=j();a.ajax({method:"GET",url:d.validationUrl,data:{i:b},success:function(a){c(a)}})}function e(){var b=j();a("#"+b.options.userInputID).on("blur",function(){var c=a.trim(a(this).val());if(0!==c.length){var e=this;d(c,function(c){c||b.reloadImage(),a(e).trigger("validatecaptcha",[c])})}})}function f(b,c){return c=a.extend({dataType:"script",cache:!1,url:b},c||{}),a.ajax(c)}function g(){var c=a("#BDC_VCID_"+m).val();f(b.captchaEndpoint+"?get=script-include&c="+m+"&t="+c+"&cs=2").done(i)}function h(){var b=j();return void 0!==a("#"+b.options.userInputID).attr("data-correct-captcha")}function i(){h()&&e()}function j(){return void 0!==window.botdetect?window.botdetect.getInstanceByStyleName(m):null}function k(){c(b.captchaEndpoint,m).done(function(a){l.html(a.replace(/<script.*<\/script>/g,"")),g()})}var l=this;if(0===l.length)throw new Error("Captcha html element cound not be found.");if(!b||!b.captchaEndpoint)throw new Error("The captchaEndpoint setting is required.");b.captchaEndpoint=b.captchaEndpoint.replace(/\/+$/g,"");var m=l.data("stylename")?l.data("stylename"):"defaultCaptcha";return l.init=function(){return k(),l},l.getCaptchaId=function(){return j().captchaId},l.getCaptchaCode=function(){return j().userInput.value},l.reloadImage=function(){j().reloadImage()},l.validateUnsafe=function(b){var c=j();d(a.trim(a("#"+c.options.userInputID).val()),function(a){b(a),h()||a||c.reloadImage()})},l.init()}}(jQuery);
//# sourceMappingURL=jquery-captcha.min.js.map